{% extends "account/base_account.html" %}

{% load i18n %}

{% block title %}
  {% trans "Manage Email Addresses" %}
{% endblock title %}
{% block account_content %}
  <div class="card bg-base-100 shadow-xl max-w-md mx-auto">
    <div class="card-body">
      <h1 class="card-title text-center text-3xl mb-6">{% trans "Manage Email Addresses" %}</h1>
      <form method="post"
            action="."
            class="space-y-4"
            aria-label="Manage Email Addresses Form">
        {% csrf_token %}
        {{ form.non_field_errors }}
        {% for field in form.visible_fields %}
          <div class="form-control">
            <label for="{{ field.id_for_label }}" class="label">
              <span class="label-text">{{ field.label }}
                {% if field.field.required %}<span class="text-error">*</span>{% endif %}
              </span>
              {% if field.help_text %}
                <div class="dropdown dropdown-hover">
                  <button class="btn btn-circle btn-ghost btn-xs" tabindex="-1">
                    <svg class="w-4 h-4 text-base-content/60 hover:text-base-content"
                         fill="none"
                         stroke="currentColor"
                         viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                  </button>
                  <div class="dropdown-content z-[1] card card-compact w-64 p-2 shadow bg-base-100 text-base-content">
                    <div class="card-body">{{ field.help_text|safe }}</div>
                  </div>
                </div>
              {% endif %}
            </label>
       <input type="{{ field.field.widget.input_type }}"
         name="{{ field.name }}"
         id="{{ field.id_for_label }}"
         class="input input-bordered w-full"
         value="{{ field.value|default_if_none:'' }}"
         {% if field.field.required %}required{% endif %}
         {% if field.field.widget.attrs.autocomplete %}autocomplete="{{ field.field.widget.attrs.autocomplete }}"{% endif %} />
            {% if field.errors %}
              <span class="text-error" id="error_{{ field.name }}">{{ field.errors|join:", " }}</span>
            {% endif %}
          </div>
        {% endfor %}
        <button type="submit" class="btn btn-primary w-full mt-4">{% trans "Update Email" %}</button>
      </form>
    </div>
  </div>
{% endblock account_content %}
